{% load static %}

<!-- ✅ Desktop Header -->
<header
  id="desktopHeader"
  class="relative hidden w-full py-10 overflow-hidden bg-white md:block"
>
  <div class="relative w-full max-w-screen-xl px-3 mx-auto">
    <!-- Left Logo -->
    <div class="absolute left-0 -translate-y-1/2 top-1/2">
      <a href="{% url 'home' %}">
        <img
          src="{% static 'images/logo1.png' %}"
          alt="Left Logo"
          class="h-[clamp(120px,20vw,200px)] w-auto object-contain max-h-[200px]"
        />
      </a>
    </div>

    <!-- 3D Flip School Name -->
    <div
      id="schoolNameContainer"
      class="relative w-full mx-auto ml-24 text-center"
      style="perspective: clamp(600px, 12vw, 1200px)"
    >
      <div
        id="flipWrapper"
        class="relative w-full"
        style="
          transform-style: preserve-3d;
          transition: transform 1.2s cubic-bezier(0.77, 0, 0.175, 1);
          height: clamp(3rem, 10vw, 6rem);
          display: flex;
          align-items: end;
          justify-content: end;
        "
      >
        <!-- Hindi Text -->
        <div
          id="hindiText"
          class="absolute inset-0 flex flex-col items-center justify-center tracking-wide text-center"
          style="
            font-family: 'Noto Sans Devanagari', sans-serif;
            font-weight: 900;
            letter-spacing: 0.5px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            backface-visibility: hidden;
            transform: rotateX(0deg);
            font-size: clamp(1.2rem, 4.2vw, 2.5rem);
            padding: 0 0.5rem;
            word-break: break-word;
          "
        >
          <!-- Main School Name -->
          <h1 class="leading-tight text-rose-700">
            प्राथमिक विद्यालय हरि मुशहर टोल, बथनाहा
          </h1>

          <!-- Address -->
          <p
            class="mt-2 text-[clamp(0.75rem,2.5vw,1rem)] font-medium"
            style="font-weight: 500; color: #0f172a"
          >
            हरिबेला, वार्ड सं. 16, लोखर चौक, सीतामढ़ी (बिहार) – 843317
          </p>

          <!-- Sub-Paragraph -->
          <p
            class="mt-1 text-[clamp(0.7rem,2.2vw,0.95rem)] font-medium italic"
            style="font-weight: 500; color: #0f172a"
          >
            एक उज्ज्वल भविष्य की ओर मार्गदर्शन करता हुआ एक उत्कृष्ट शैक्षणिक
            संस्थान
          </p>
        </div>

        <!-- English Text -->
        <div
          id="englishText"
          class="absolute inset-0 flex items-center justify-center tracking-wider text-center uppercase"
          style="
            font-family: 'Poppins', 'Segoe UI', sans-serif;
            font-weight: 900;
            letter-spacing: 1px;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            backface-visibility: hidden;
            transform: rotateX(180deg);
            font-size: clamp(1rem, 3.2vw, 1.8rem);
            padding: 0 0.5rem;
            word-break: break-word;
          "
        >
          <div class="flex flex-col items-center justify-center">
            <!-- Main School Name -->
            <h1 class="leading-tight text-rose-700">
              PRIMARY SCHOOL HARI MUSHAR TOL, BATHANAHA
            </h1>

            <!-- Address -->
            <p
              class="mt-2 text-[clamp(0.75rem,2.5vw,1rem)] font-medium"
              style="font-weight: 500; color: #0f172a"
            >
              HARIBELA, Ward No.-16, Lokhar Chowk, Sitamarhi (Bihar) - 843317
            </p>

            <!-- Sub-Paragraph -->
            <p
              class="mt-1 text-[clamp(0.7rem,2.2vw,0.95rem)] font-medium italic capitalize"
              style="font-weight: 500; color: #0f172a"
            >
              A premier academic institution guiding towards a brighter future
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- ✅ Mobile Header -->
<header id="mobileHeader" class="block w-full py-8 bg-white md:hidden">
  <div class="flex flex-col justify-center gap-3 px-4 items-left">
    <a href="{% url 'home' %}">
      <img
        src="{% static 'images/final_logo.png' %}"
        alt="Logo"
        class="h-[clamp(70px,15vw,140px)] w-auto object-contain max-h-[140px]"
      />
    </a>
  </div>
</header>

<!-- ✅ Fonts -->
<link
  href="https://fonts.googleapis.com/css2?family=Noto+Sans+Devanagari&family=Poppins:wght@500;900&display=swap"
  rel="stylesheet"
/>

<!-- ✅ 3D Flip Script -->
<script>
  function startFlipAnimation(wrapperId) {
    const wrapper = document.getElementById(wrapperId);
    if (!wrapper) return;

    let flipped = false;

    function flipText() {
      wrapper.style.transform = flipped ? "rotateX(0deg)" : "rotateX(180deg)";
      flipped = !flipped;
    }

    flipText();
    setInterval(flipText, 6000);
  }

  // Run on load
  document.addEventListener("DOMContentLoaded", () => {
    const isDesktop = window.innerWidth >= 768;
    if (isDesktop) {
      startFlipAnimation("flipWrapper");
    }

    // Optional: dynamic switching when resizing (if needed)
    window.addEventListener("resize", () => {
      const isNowDesktop = window.innerWidth >= 768;
      const wrapper = document.getElementById("flipWrapper");

      if (isNowDesktop && wrapper && wrapper.style.transform === "") {
        startFlipAnimation("flipWrapper");
      }
    });
  });
</script>
